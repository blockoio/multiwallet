batch ./init.brick

# ========== stake 10000 aergo ==========
query mymultisig genMsgToSign `["S", {"_bignum":"10000000000000000000000"}]` "0x8e6209c9c39ab14313b94f48e44a9a93eeeb8c2fb4c667c67af8ce7ff4fe67f4"
call operator 0 mymultisig request `["S", 1, "0x3045022100a47c3b02600886f957a99530fd205b1dca5c8b0152474100451797ccba425c96022051ba5a2870a166262075dfa76e7807c4e1529e8b28886108d130c0d4ff3ce491", 2, "0x30460221008c718954669bc6e1a933b9c88ae28d6c88ace1b9feb20690ea0abbfe1150138b022100a017a513004d751ea7cdf710deaf9d0d82614eb02b8ada342a4315f43542a014",  {"_bignum":"10000000000000000000000"}]`

# ========== Vote ==========
query mymultisig genMsgToSign `["V", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n", "16Uiu2HAm4xYtGsqk7WGKUxr8prfVpJ25hD23AQ3Be6anEL9Kxkgw", "16Uiu2HAmGiJ2QgVAWHMUtzLKKNM5eFUJ3Ds3FN7nYJq1mHN5ZPj9"]` "0xc9a088e6e7f40a742e686992a0c6dd943e8fae7022eb466a9ecaafb8e8b92203"
call operator 0 mymultisig request `["V", 1, "3045022100abfd8e8731d99aa4cbd1e744e0aace5d44b0dc7c074bcefb244eb4eb397c080c0220596ea6b02cdc23979d0984f9aa5e25b0ad9f41e1d8c02394eee3591237780c90", 2, "3046022100c0bf416e3fab8f96e8ed52e71971319af07c58c2b4845f65f130ac33199b7d34022100ba119cd5f419d94877438cd95658adcdf836d6ed13778ec589cdc366df6a6ab8", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n", "16Uiu2HAm4xYtGsqk7WGKUxr8prfVpJ25hD23AQ3Be6anEL9Kxkgw", "16Uiu2HAmGiJ2QgVAWHMUtzLKKNM5eFUJ3Ds3FN7nYJq1mHN5ZPj9"]`

# ========== Vote Again with different Candidates ==========
forward 86399
query mymultisig genMsgToSign `["V", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n", "16Uiu2HAm4xYtGsqk7WGKUxr8prfVpJ25hD23AQ3Be6anEL9Kxkgw", "16Uiu2HAmGiJ2QgVAWHMUtzLKKNM5eFUJ3Ds3FN7nYJq1mHN5ZPj9", "16Uiu2HAmRNY6CEDMQKuUkUbix7QDpp1fFAg3yRVMoJJDNztbGzdH"]` "0xa6012d286b819d7c78443b9029cc1e5c66653301530db73ba8163783f7a279ae"
call operator 0 mymultisig request `["V", 3, "3045022100cfa8ac198f7276b237ef9679b037026828bf00821a4d1716aae14e845a2030b9022040b192d0e8709c5bfa1ae1aad5e06562d11d612a1d6b942400446736dd9d164a", 4, "3045022100f665ad076c9f16ca8e404cddfd9fe523be2172889ad420110b3380236eb3ca070220234939d5f8088784c6ec465efdc50a2f03ad05c8469c2c3966717034aa42dc0b", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n", "16Uiu2HAm4xYtGsqk7WGKUxr8prfVpJ25hD23AQ3Be6anEL9Kxkgw", "16Uiu2HAmGiJ2QgVAWHMUtzLKKNM5eFUJ3Ds3FN7nYJq1mHN5ZPj9", "16Uiu2HAmRNY6CEDMQKuUkUbix7QDpp1fFAg3yRVMoJJDNztbGzdH"]`

# ========== Fail test: less time passed ==========
query mymultisig genMsgToSign `["V", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n"]` "0xb181455fa6a886a6f86e3d167581a3bf969987a8062bed7c8837d5dba1564311"
call operator 0 mymultisig request `["V", 1, "304402202d37a6bee215729c4c8108ea89fac9d6c7b31f9993f8d827203e046f79799ae60220057dcb5e2ca89d56d7989dd870e309bfb756f223bab1dd1b69e06a365a511296", 2, "30460221009ac49cf70d576c23ecdebb16ecc3c8047a73308ce9bc890d59841706039bcd83022100f13f4a560ae4a48e7cf469d988b9a535372b920da31af116dfab5d9d0e59abcd", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n"]` `less time has passed`

# ========== Fail test: incorrect peer id ==========
query mymultisig genMsgToSign `["V", "incorrectBPID"]` "0x567eb99d01e73888d8cb8653c72a908632bece616399cccb28c52e982c0f7c80"
call operator 0 mymultisig request `["V", 1, "0x3045022100a5cf4cd45b7a980a43181c2e861601cc28f564bf6ef52386fea4641fe938a9d30220587e1cc0cf3c222e675137c3a41a36912abed8a0caf1d4087c2c133e8bd4213a", 2, "0x3045022100fc3d73fafe625c4b3bef947d9d6906ae8dd1157035d864acfa1f9660302064e90220074fbd422efde2a149ec1d314eb6818985ba8799d8a8cc661fefefb650785360", "incorrectBPID"]` `tx invalid payload`

query mymultisig genMsgToSign `["V", "999992HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n"]` "0x83d28a7a36aae993c88c28c869879691cfa39b8fa43f8fe120b87477c2364796"
call operator 0 mymultisig request `["V", 1, "0x3044022004f71df73f4b76fbed17d662c67992a6fc6898d030d678a178752bab0c375bdf0220584349bcb1531430d29762ad383cb86a66dc08f6aee20323132f3a605ce24d71", 2, "0x3044022029a02bfedf5a25e603d06a79b653cd21cdee89df1a3f99a82b36bcd9aa042e7402202e7fbf94b877fa39bcab08acf0fd3c197f481ae3325d8ada5794a556386fef37", "999992HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n"]` `tx invalid payload`

# ========== Fail test: duplicate peer id ==========
query mymultisig genMsgToSign `["V", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n"]` "0x0817fd03a90962a58a357e8b0a4ba41257a57123098a390405990de8f3e0d481"
call operator 0 mymultisig request `["V", 1, "0x3046022100c69cf3e9abcc746975bb811a8e03d09b6230d0f215376821c6696aa09d87a18e0221009b09de14969a197e2265b3abcec4e048c56ea699d11b0d1704616b3c90a84ef7", 2, "0x3045022100dc5fcda51df526cceb01c058b0487bbca84a6e5ea1b1f4234e61936de0a8ca6a022053ea620dfbc63395a4de746ed01b47626a6c55f035c78c9e8d81ec9c540d17d3", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4n"]` `tx invalid payload`

# ========== Test with 30 Bps ==========
forward 86399

query mymultisig genMsgToSign `["V", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc11", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc12", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc13", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc14", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc15", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc16", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc17", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc18", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc19", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc2o", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc21", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc22", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc23", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc24", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc25", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc26", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc27", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc28", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc29", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc3o", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc31", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc32", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc33", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc34", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc35", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc36", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc37", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc38", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc39", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4o"]` "0x1007e3c5483f3454e98b755914a148691900a53bbf1a161654fd12b0755e5711"
call operator 0 mymultisig request `["V", 1, "0x304502200d2b13f10d6419d0dff495a62565c7d382ea98aa5abf2e0bfb1b3dd663f67f21022100cd17fa688242bb9ceb22791fb719c4b8068a7392c46a3ce66e4ba675f98c99d8", 2, "0x3045022100c58985e76f6af848981a01e61fffda8245c4478e972e1cf2abbf988bcaa4c62d022036707d048c7a65f07c0246918012821a29f898923db105cfb2d333f09aaebc7f", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc11", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc12", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc13", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc14", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc15", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc16", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc17", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc18", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc19", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc2o", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc21", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc22", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc23", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc24", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc25", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc26", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc27", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc28", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc29", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc3o", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc31", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc32", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc33", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc34", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc35", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc36", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc37", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc38", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc39", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4o"]`

# ========== Fail test: Test with 31 Bps (exceed maximum) ==========
forward 86399

query mymultisig genMsgToSign `["V", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc11", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc12", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc13", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc14", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc15", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc16", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc17", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc18", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc19", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc2o", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc21", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc22", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc23", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc24", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc25", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc26", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc27", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc28", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc29", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc3o", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc31", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc32", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc33", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc34", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc35", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc36", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc37", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc38", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc39", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4o", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc41"]` "0xa52def97b6bcffe45e20e4860c97ef1ee55c270879fa67ba827138b70caced87"
call operator 0 mymultisig request `["V", 1, "0x304402202a7339ebeed900cfa401c2c2ac72dcf1b4b6577fefcb3c3a19ecba064cb5272e02207a1fd5c530185f7615834a84b9b25148d39069db612fbb02169b208be4f0ebb0", 2, "0x3045022062084ccef4d1e0222edda58c18dc13ac4f11f8c60e5902a5a4e8c16476c075130221009b6b2b6c2e49fe8cbe9e8856ef21c705705d359c97e564c4e19a2cf39d30926f", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc11", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc12", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc13", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc14", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc15", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc16", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc17", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc18", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc19", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc2o", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc21", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc22", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc23", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc24", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc25", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc26", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc27", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc28", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc29", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc3o", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc31", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc32", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc33", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc34", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc35", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc36", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc37", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc38", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc39", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc4o", "16Uiu2HAmAokYAtLbZxJAPRgp2jCc4bD35cJD921trqUANh59Rc41"]` `tx invalid payload`